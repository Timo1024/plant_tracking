# ğŸŒ± Plant Tracker - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER / CLIENT                            â”‚
â”‚                    (Web Browser / Mobile)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ HTTP/HTTPS
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND (Port 3000)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  React + TypeScript                       â”‚   â”‚
â”‚  â”‚  - Dashboard (plant grid view)                           â”‚   â”‚
â”‚  â”‚  - Plant Detail (with history)                           â”‚   â”‚
â”‚  â”‚  - Pot Detail (QR-scannable page)                        â”‚   â”‚
â”‚  â”‚  - Forms (Add Plant/Pot/Move)                            â”‚   â”‚
â”‚  â”‚  - Soil Manager                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Nginx Web Server                             â”‚   â”‚
â”‚  â”‚  - Serves React static files                             â”‚   â”‚
â”‚  â”‚  - Proxies /api to backend                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ REST API
                             â”‚ /api/*
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND (Port 5000)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Flask REST API                         â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Routes:                                                  â”‚   â”‚
â”‚  â”‚  â€¢ /api/plants      - CRUD operations                    â”‚   â”‚
â”‚  â”‚  â€¢ /api/pots        - QR code management                 â”‚   â”‚
â”‚  â”‚  â€¢ /api/soils       - Soil mix library                   â”‚   â”‚
â”‚  â”‚  â€¢ /api/move        - Plant movement logic               â”‚   â”‚
â”‚  â”‚  â€¢ /api/history     - Historical tracking                â”‚   â”‚
â”‚  â”‚  â€¢ /qrcodes/<id>    - Serve QR images                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              SQLAlchemy ORM                               â”‚   â”‚
â”‚  â”‚  Models:                                                  â”‚   â”‚
â”‚  â”‚  â€¢ Plant (botanical info, status)                        â”‚   â”‚
â”‚  â”‚  â€¢ Pot (location, QR code)                               â”‚   â”‚
â”‚  â”‚  â€¢ Soil (mix composition)                                â”‚   â”‚
â”‚  â”‚  â€¢ PlantPotHistory (movement tracking)                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              QR Code Generator                            â”‚   â”‚
â”‚  â”‚  â€¢ Creates unique IDs (UUID-based)                        â”‚   â”‚
â”‚  â”‚  â€¢ Generates PNG images                                   â”‚   â”‚
â”‚  â”‚  â€¢ Stores in /static/qrcodes/                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â”‚ SQL Queries
                             â”‚ mysql+pymysql
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE (Port 3306)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     MySQL 8.0                             â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Tables:                                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ plants (botanical info, status, dates)          â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ pots (location, QR codes, active status)        â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ soils (mix names and compositions)              â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ plant_pot_history (tracking with dates)         â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Relationships:                                           â”‚   â”‚
â”‚  â”‚  â€¢ plant_pot_history â†’ plants (FK)                       â”‚   â”‚
â”‚  â”‚  â€¢ plant_pot_history â†’ pots (FK)                         â”‚   â”‚
â”‚  â”‚  â€¢ plant_pot_history â†’ soils (FK)                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  Volume: ./data/mysql (persistent storage)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Examples

### 1. Adding a New Plant

```
User fills form
     â†“
React Form Component
     â†“
POST /api/plants (Axios)
     â†“
Flask Route Handler
     â†“
SQLAlchemy Model (Plant)
     â†“
MySQL INSERT
     â†“
Response with plant data
     â†“
React updates UI
```

### 2. Creating Pot with QR Code

```
User fills pot form
     â†“
POST /api/pots
     â†“
Flask generates UUID
     â†“
Create Pot record in MySQL
     â†“
Generate QR code image
  (links to /pot/<qr_code_id>)
     â†“
Save to /static/qrcodes/
     â†“
Return pot data + QR path
     â†“
Display in UI
```

### 3. Moving a Plant (Automatic History)

```
User selects: plant, pot, soil
     â†“
POST /api/move
     â†“
Flask Backend:
  1. Find current assignment
     (end_date IS NULL)
  2. Set end_date = new start_date
  3. Close pot's current plant
  4. Insert new history record
     â†“
MySQL transactions
     â†“
Return updated plant state
     â†“
React redirects to dashboard
```

### 4. QR Code Scan Flow

```
Phone scans QR code
     â†“
Opens: http://localhost:3000/pot/POT-123
     â†“
React Router loads PotDetail page
     â†“
GET /api/pots/POT-123
     â†“
Flask queries database:
  - Pot details
  - Current plant (if any)
  - Current soil
     â†“
Return JSON data
     â†“
React displays:
  - Pot location/size
  - Current plant name
  - Soil composition
  - Date potted
```

## Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   plants    â”‚         â”‚  plant_pot_history   â”‚         â”‚    pots     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ plant_id (FK)        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ id (PK)     â”‚
â”‚ name        â”‚         â”‚ pot_id (FK)          â”‚         â”‚ qr_code_id  â”‚
â”‚ family      â”‚         â”‚ soil_id (FK)         â”‚         â”‚ room        â”‚
â”‚ genus       â”‚         â”‚ start_date           â”‚         â”‚ size        â”‚
â”‚ species     â”‚         â”‚ end_date (nullable)  â”‚         â”‚ active      â”‚
â”‚ size        â”‚         â”‚ notes                â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ status      â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ date_added  â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
                                   â”‚
                                   â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   soils     â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)     â”‚
                          â”‚ name        â”‚
                          â”‚ composition â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Architecture (Frontend)

```
App.tsx (Router)
    â”‚
    â”œâ”€â”€ Navigation.tsx (header)
    â”‚
    â””â”€â”€ Routes:
        â”œâ”€â”€ Dashboard.tsx
        â”‚   â””â”€â”€ PlantCard Ã— N
        â”‚
        â”œâ”€â”€ PlantDetail.tsx
        â”‚   â”œâ”€â”€ BotanicalInfo
        â”‚   â”œâ”€â”€ CurrentLocation
        â”‚   â””â”€â”€ HistoryTimeline
        â”‚
        â”œâ”€â”€ PotDetail.tsx (QR scan target)
        â”‚   â”œâ”€â”€ PotInfo
        â”‚   â””â”€â”€ CurrentPlant
        â”‚
        â”œâ”€â”€ AddPlantForm.tsx
        â”œâ”€â”€ AddPotForm.tsx
        â”œâ”€â”€ MovePlantForm.tsx
        â””â”€â”€ SoilList.tsx
            â””â”€â”€ SoilCard Ã— N
```

## API Service Layer (Frontend)

```
services/api.ts
    â”‚
    â”œâ”€â”€ plantAPI
    â”‚   â”œâ”€â”€ getAll()
    â”‚   â”œâ”€â”€ getById(id)
    â”‚   â”œâ”€â”€ create(data)
    â”‚   â”œâ”€â”€ update(id, data)
    â”‚   â””â”€â”€ remove(id, reason)
    â”‚
    â”œâ”€â”€ potAPI
    â”‚   â”œâ”€â”€ getAll()
    â”‚   â”œâ”€â”€ getByQRCode(qrId)
    â”‚   â”œâ”€â”€ create(data)
    â”‚   â””â”€â”€ update(id, data)
    â”‚
    â”œâ”€â”€ soilAPI
    â”‚   â”œâ”€â”€ getAll()
    â”‚   â”œâ”€â”€ create(data)
    â”‚   â””â”€â”€ update(id, data)
    â”‚
    â””â”€â”€ historyAPI
        â”œâ”€â”€ getPlantHistory(plantId)
        â””â”€â”€ movePlant(moveRequest)
```

## Docker Compose Services

```
docker-compose.yml
    â”‚
    â”œâ”€â”€ db (MySQL)
    â”‚   â€¢ Image: mysql:8.0
    â”‚   â€¢ Port: 3306
    â”‚   â€¢ Volume: ./data/mysql
    â”‚   â€¢ Health check enabled
    â”‚
    â”œâ”€â”€ backend (Flask)
    â”‚   â€¢ Build: ./backend
    â”‚   â€¢ Port: 5000
    â”‚   â€¢ Depends on: db
    â”‚   â€¢ Volume: ./backend (dev)
    â”‚
    â””â”€â”€ frontend (React + Nginx)
        â€¢ Build: ./frontend
        â€¢ Port: 3000 â†’ 80
        â€¢ Depends on: backend
        â€¢ Multi-stage build
```

## Security Considerations

```
Frontend
  â€¢ No sensitive data stored
  â€¢ Environment-based API URL
  â€¢ CORS enabled for local dev

Backend
  â€¢ Flask-CORS configured
  â€¢ SQL injection protected (SQLAlchemy)
  â€¢ Input validation on all routes
  â€¢ Error handling with proper codes

Database
  â€¢ User/password authentication
  â€¢ Root password separate
  â€¢ Network isolated to compose
  â€¢ Volume for data persistence
```

---

**This diagram provides a visual overview of the Plant Tracker architecture.**
